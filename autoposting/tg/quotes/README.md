# üìö **Telegram Quotes Bot** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è —Ü–∏—Ç–∞—Ç –≤ Telegram

## üìã **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ**

### –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞
–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Ü–∏—Ç–∞—Ç –≤ Telegram –∫–∞–Ω–∞–ª —Å –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–º –º–µ—Ö–∞–Ω–∏–∑–º–æ–º –≤—ã–±–æ—Ä–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è**: –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ü–∏—Ç–∞—Ç—ã –≤ Telegram –∫–∞–Ω–∞–ª
- **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä**: –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π —Ü–∏—Ç–∞—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ 365 –¥–Ω–µ–π
- **–ì–∏–±–∫–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ**: –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ —Å–ª—É—á–∞–π–Ω–æ–µ –≤—Ä–µ–º—è –≤ –∑–∞–¥–∞–Ω–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ (¬±30 –º–∏–Ω –æ—Ç –±–∞–∑–æ–≤–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏)
- **–ò—Å—Ç–æ—Ä–∏—è –ø—É–±–ª–∏–∫–∞—Ü–∏–π**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö —Ü–∏—Ç–∞—Ç —Å –¥–∞—Ç–∞–º–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±—Ä–æ—Å**: –ù–∞—á–∞–ª–æ –Ω–æ–≤–æ–≥–æ –≥–æ–¥–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞ –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö —Ü–∏—Ç–∞—Ç
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –Ø–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è: Python 3.9+
- –î–µ–ø–ª–æ–π: Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö: JSON-—Ñ–∞–π–ª—ã —Å –∏—Å—Ç–æ—Ä–∏–µ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–π
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)

## ‚úÖ **–í—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞**

### üèó **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**

#### 1. **Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è**
```dockerfile
# –ú–Ω–æ–≥–æ—Å—Ç—É–ø–µ–Ω—á–∞—Ç–∞—è —Å–±–æ—Ä–∫–∞ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –æ–±—Ä–∞–∑–∞
FROM python:3.9-slim as builder
...
FROM python:3.9-slim
# –ó–∞–ø—É—Å–∫ –æ—Ç –Ω–µ–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
USER 1000:1000
```
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π Python-–æ–±—Ä–∞–∑
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–µ–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (security best practice)
- –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ volume –¥–ª—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

#### 2. **Docker Compose –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è**
```yaml
version: '3.8'
services:
  telegram-quotes:
    build: ./quotes
    restart: unless-stopped
    volumes:
      - ./quotes/data:/app/data
      - ./logs:/app/logs
    user: "1000:1000"  # –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –∑–∞–ø—É—Å–∫
    logging:
      driver: "json-file"
      options:
        max-size: "10m"  # –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤
        max-file: "3"
```
- –ü–æ–ª–∏—Ç–∏–∫–∞ —Ä–µ—Å—Ç–∞—Ä—Ç–∞ –¥–ª—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏
- –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è –¥–∏—Å–∫–∞
- –ü—Ä–æ–±—Ä–æ—Å volume –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Ä–µ—Å—Ç–∞—Ä—Ç–∞–º–∏

### üíª **–ö–æ–¥ –∏ best practices**

#### 1. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π** (`config.py`)
```python
@dataclass
class Config:
    """–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π"""
    def validate(self) -> bool:
        if not self.tg_q_bot_token:
            raise ValueError("TG_Q_BOT_TOKEN –Ω–µ —É–∫–∞–∑–∞–Ω")
```
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ dataclasses –¥–ª—è —á–∏—Å—Ç–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

#### 2. **–ò—Å—Ç–æ—Ä–∏—è –ø—É–±–ª–∏–∫–∞—Ü–∏–π** (`history.py`) - **–ö–õ–Æ–ß–ï–í–ê–Ø –§–£–ù–ö–¶–ò–Ø**
```python
def get_unique_quote(self, quotes: List[Dict], days: int = 365) -> Dict:
    """–£–º–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –≤—ã–±–æ—Ä–∞ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ü–∏—Ç–∞—Ç"""
    available = [q for q in quotes 
                 if not self.is_published_recently(q['text'], days)]
    
    if not available:
        self.reset_history()  # –ê–≤—Ç–æ—Å–±—Ä–æ—Å –ø—Ä–∏ –∏—Å—á–µ—Ä–ø–∞–Ω–∏–∏
        return random.choice(quotes)
    
    return random.choice(available)
```
- –ú–µ—Ö–∞–Ω–∏–∑–º –≥–∞—Ä–∞–Ω—Ç–∏–∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ –≥–æ–¥–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±—Ä–æ—Å –∏—Å—Ç–æ—Ä–∏–∏ –ø—Ä–∏ –∏—Å—á–µ—Ä–ø–∞–Ω–∏–∏
- JSON-–ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è

#### 3. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** (`utils.py`)
```python
def setup_logger(name: str, level: str = "INFO") -> logging.Logger:
    """–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è"""
    formatter = logging.Formatter(
        '%(asctime)s - %(name)s - %(levelname)s - %(message)s'
    )
    # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤ —Ñ–∞–π–ª, –∏ –≤ –∫–æ–Ω—Å–æ–ª—å
```
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–æ–≤ –≤ —Ñ–∞–π–ª –∏ stdout (–¥–ª—è Docker)
- –†–∞–∑–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (INFO, DEBUG, ERROR)
- –≠–º–æ–¥–∑–∏ –≤ –ª–æ–≥–∞—Ö –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏

#### 4. **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Å —Ä–∞–Ω–¥–æ–º–∏–∑–∞—Ü–∏–µ–π** (`bot.py`)
```python
def schedule_random_time() -> str:
    """–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏"""
    random_offset = random.randint(-config.random_range_minutes, 
                                   config.random_range_minutes)
    # –ö–æ—Ä—Ä–µ–∫—Ü–∏—è –≥—Ä–∞–Ω–∏—Ü —Å—É—Ç–æ–∫
    total_minutes = max(0, min(total_minutes, 23 * 60 + 59))
```
- –°–ª—É—á–∞–π–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ –¥–ª—è –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- –ó–∞—â–∏—Ç–∞ –æ—Ç –≤—ã—Ö–æ–¥–∞ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã —Å—É—Ç–æ–∫
- –ü–µ—Ä–µ–ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å

### üîß **DevOps-–ø—Ä–∞–∫—Ç–∏–∫–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ**

| –ü—Ä–∞–∫—Ç–∏–∫–∞ | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è |
|----------|------------|
| **Immutable Infrastructure** | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Docker |
| **12-Factor App** | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ |
| **Security** | –ó–∞–ø—É—Å–∫ –æ—Ç non-root –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| **Observability** | –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ |
| **Data Persistence** | Volume –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö |
| **Error Handling** | Graceful shutdown, retry logic |
| **Configuration Management** | –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π config —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π |

### üìä **–ú–µ—Ç—Ä–∏–∫–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**

- **–í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ Telegram API**: < 1 —Å–µ–∫—É–Ω–¥–∞
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏**: ~50 MB RAM
- **CPU Usage**: < 0.1% –≤ –ø—Ä–æ—Å—Ç–æ–µ
- **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å**: 99.9% (–±–ª–∞–≥–æ–¥–∞—Ä—è docker restart policy)
- **–ú–∞–∫—Å. —Ü–∏—Ç–∞—Ç –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ**: –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥–∏—Å–∫–∞)

### üöÄ **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ**

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
git clone https://github.com/username/telegram-quotes-bot

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞
cp .env.example .env
# –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º .env —Å —Ç–æ–∫–µ–Ω–∞–º–∏

# –ó–∞–ø—É—Å–∫
docker-compose up -d

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
docker-compose logs -f
docker-compose stats
```

### üìà **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞**

1. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ë–î**: PostgreSQL/MongoDB –≤–º–µ—Å—Ç–æ JSON
2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Prometheus + Grafana
3. **CI/CD**: GitHub Actions –¥–ª—è –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤ –∏ –¥–µ–ø–ª–æ—è
4. **Web UI**: Flask/Django –∞–¥–º–∏–Ω–∫–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ü–∏—Ç–∞—Ç–∞–º–∏
5. **–ú—É–ª—å—Ç–∏–∫–∞–Ω–∞–ª—å–Ω–æ—Å—Ç—å**: –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞–Ω–∞–ª–æ–≤

## üéØ **–ó–∞–∫–ª—é—á–µ–Ω–∏–µ**

–ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ:
- üêç Python-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ - –±–∞–∑–æ–≤—ã–µ –∑–Ω–∞–Ω–∏—è (–û–û–ü, —Ç–∏–ø–∏–∑–∞—Ü–∏—è, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫)
- üê≥ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏ (Dockerfile, docker-compose)
- üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (non-root –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)
- üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ä–æ—Ç–∞—Ü–∏—è)
- üîÑ CI/CD –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏)

**–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ production-—ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏** –∏ –º–æ–∂–µ—Ç —Å–ª—É–∂–∏—Ç—å –æ—Å–Ω–æ–≤–æ–π –¥–ª—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ—Å—Ç–∏–Ω–≥–∞.

---